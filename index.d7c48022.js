const e=["agh","no","yes","hohoho","hangup","pickup"],t={};for(const n of e){const e=document.createElement("video");e.classList.add("hidden"),e.setAttribute("preload","auto");const i=document.createElement("source");i.src=`${n}.mp4`,e.appendChild(i),document.body.appendChild(e),t[n]=e}let n=0,i=!1;const s=document.createElement("div");s.classList.add("phone-container");const o=document.createElement("img");o.src="pickup.png",o.onclick=()=>{d("pickup"),a.start(),o.classList.add("hidden"),c.classList.remove("hidden"),i=!0,n=0};const c=document.createElement("img");function d(e){Object.values(t).forEach((e=>{e.classList.add("hidden"),e.pause(),e.currentTime=0})),t[e].classList.remove("hidden"),t[e].play()}c.src="hangup.png",c.classList.add("hidden"),c.onclick=()=>{d("hangup"),a.stop(),c.classList.add("hidden"),o.classList.remove("hidden"),i=!1},s.appendChild(o),s.appendChild(c),document.body.append(s),t.pickup.classList.remove("hidden");const{recognition:a}=new class{constructor(){try{const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.interimResults=!0}catch(e){alert("This browser doesn't support SpeechRecognition API")}this.recognition.addEventListener("result",(t=>{const i=t.results[0].isFinal,s=Array.from(t.results).map((e=>e[0])).map((e=>e.transcript)).join("");if(console.log(s),i){n=0;const t=(o=0,c=e.length-3,Math.floor(Math.random()*(c-o+1)+o));d(e[t])}var o,c})),this.recognition.addEventListener("end",(()=>{if(i){if(2===n)return c.click();this.recognition.start(),n++}}))}};
//# sourceMappingURL=index.d7c48022.js.map
